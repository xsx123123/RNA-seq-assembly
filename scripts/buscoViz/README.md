# buscoViz

Visualize BUSCO summary across pipeline stages with an alluvial plot.

## Features

- Read multiple BUSCO JSON summaries (`results` node) and merge to a tidy wide table.  
- Plot BUSCO categories across stages using `ggalluvial`.  
- One-liners to save PNG/PDF figures.

## Installation
From local source in the package root
install.packages(“devtools”)
devtools::document() # generate NAMESPACE and man/
devtools::check()    # optional but recommended
devtools::install()  # install to your default library
Or specify a user library:
devtools::install(lib = “~/.R/libs”)

## Usage
```r
library(buscoViz)
root_dir <- “/home/zj/analysis/Bidens_pilosa_transcriptome_assembly/transcriptome_assembly”files <- c(file.path(root_dir,“short_summary.specific.embryophyta_odb10.length_filtered_busco.json”),file.path(root_dir,“short_summary.specific.embryophyta_odb10.length_filtered_cd-hit-est_busco.json”),file.path(root_dir,“short_summary.specific.embryophyta_odb10.length_filtered_cd-hit-est_E90_transcript_busco.json”),file.path(root_dir,“short_summary.specific.embryophyta_odb10.length_filtered_cd-hit-est_remove_transcrip_busco.json”),file.path(root_dir,“short_summary.specific.embryophyta_odb10.TD2_CDS_busco.json”))sample_names <- c(“Origin Transcript”,“CD-HIT”,“E90 Transcript”,“E90 Remove Transcript”,“TD2 CDS Transcript”)
df <- read_busco_jsons(files, sample_names)
p <- plot_busco_alluvial(df,sample_order = sample_names,palette = c(”#ffb703”,”#fb8500”,”#8ecae6”,”#219ebc”),y_limit = c(0,100),label_percent = TRUE)
save_busco_plots(p, file.path(root_dir,“BUSCO_evalution”), width = 7, height = 6.5, dpi = 1000)
```

## File structure
```bash
buscoViz/
    ├── DESCRIPTION
    ├── NAMESPACE         # auto-generated by devtools::document()
    ├── R/
    │   ├── read_busco_jsons.R
    │   ├── plot_busco_alluvial.R
    │   └── save_busco_plots.R├── man/ # auto-generated docs
    ├── inst/              # optional assets (e.g., examples, templates)
    ├── data/              # optional example data
    └── README.md
```
## Tips
- Ensure JSON files contain a `results` node from BUSCO summaries.  
- Keep categories named as `Single.copy.percentage`, `Multi.copy.percentage`, `Fragmented.percentage`, `Missing.percentage` or adjust the regex mapping in code.